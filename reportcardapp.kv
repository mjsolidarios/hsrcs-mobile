#:kivy 1.8.0

<ToolBoxButton@ActionButton>:
	size_hint: (None, None)
	height: '48dp'
	width: '48dp'

<ToolBoxStack@StackLayout>:
	pos: self.parent.pos
    size: self.parent.size
    padding: 8
    spacing: 0

<ToggleList@ToggleButton>:
	text: 'List View'
	state: 'down'
	group: 'filechooser'

<ToggleIcon@ToggleButton>:
	text: 'Folder View'
	group: 'filechooser'

<IconImage@Image>:
	size_hint: None, 1
	width: 30		

<StudNameBtn@Button>:
	size_hint: None, None
	text_size: len(self.text)*10, None
	halign: 'center'
	height: 40
	width: self.text_size[0]+10

<ReportCardForm>:
	canvas.before:
        Color:
            rgba: 0.05, 0.05, 0.05, 1
        Rectangle:
            size: self.size
            pos: self.pos
	FloatLayout:
		size: root.width, root.height
		canvas.before:
	        Color:
	            rgba: 0.128, 0.128, 0.128, 0
	        Rectangle:
	            size: self.size
	            pos: self.pos 
	    ScreenManager:
	    	id: MainScreenManager
	    	Screen:
	    		name: 'dashboard'    		
				Label:					
					size_hint: None, 1
					text: ('[font=data/fonts/OpenSans-Light.ttf][size=40]Welcome to HSRCS[/size]\n[size=16]High School Report Card System\nfor Sta. Barbara National Comprehensive High School\n[size=12]Â© 2014 Mark Joseph J. Solidarios[/size]\n\n\nThis program comes with ABSOLUTELY NO WARRANTY;\n[size=12]for comments or suggestions, email: markjoseph.solidarios@outlook.com[/size] [/size][/font]')
					pos_hint: {'x':.45, 'y':0.09}
					markup:  True
	    	Screen:	
	    		name: 'help'
	    		BoxLayout:
	    			padding: [50,0,50,0]
	    			size_hint: 1, None
	    			top: root.top - 62
					Button:
						size_hint: 1, None
						text: 'sffsd'
					Button:
						size_hint: 1, None
						text: 'sffsd'
					Button:
						size_hint: 1, None
						text: 'sffsd'
	    	Screen:	
	    		name: 'editor'
	    		BoxLayout:
	    			padding: [50,0,50,0]
	    			height: 30
	    			top: root.top - 62
	    			
	    			size_hint: 1, None
	    			ToggleButton:
	    				text: 'Sort A-Z'			
	    			ToggleButton:
	    				text: 'Sort Z-A'
    			StackLayout:    				
    				size_hint: 1, 1
    				padding: [50,0,50,0]
    				pos_hint: {'center_x': .5, 'center_y': 0.3}
    				spacing: 10
    				StudNameBtn:
    					text: 'Juan De La Cruz'
    				StudNameBtn:
    					text: 'Juan De Lsdafasdfa Cruz'
    				StudNameBtn:
    					text: 'Juan Defasdf La Cruz' 
    				StudNameBtn:
    					text: 'Juan dsfasdfasdfadsfDe La Cruz' 
    				StudNameBtn:
    					text: 'Juan asdfsdDe La Cruz'  
    				StudNameBtn:
    					text: 'Juanadsfasdf De La Cruz'  
    				StudNameBtn:
    					text: 'Juan fdDe La Cruz'     					    					    					    					    											    						    					    						    						    						    						
		  																	
	StackLayout:
		width: root.width
		height: 50
		top: root.top
		spacing: 10
		canvas.before:
	        Color:
	            rgba: 0, 0, 0, 1
	        Rectangle:
	            size: self.size
	            pos: self.pos 
	    Image:  
			source: 'data/icons/logo.png'
			size_hint: None, 1
			width: 80
		Label:
			id: WidgetTitle
			size_hint: None, None
			width: root.width - 160
			text: '[font=data/fonts/OpenSans-Light.ttf]Dashboard[/font]'
			font_size: '24sp'
			height: 50
			markup:  True
	GridLayout:
		cols: 1
		size_hint: 0.3, 1
		top: root.top - 62
		right: root.right + 50							
		ToolBoxButton:
			on_press: app.SwitchToDash()
			ToolBoxStack:
				IconImage: 
					source: 'data/icons/home.png'						
		ToolBoxButton:
			on_press: app.ShowOpenFileDialog()
			ToolBoxStack:
				IconImage: 
					source: 'data/icons/folder.png'
		ToolBoxButton:
			on_release: app.UpdateRecord()
			ToolBoxStack:
				IconImage:
					source: 'data/icons/save.png'												
		ToolBoxButton:
			on_release: app.ShowSaveFileDialog()
			ToolBoxStack:
				IconImage:
					source: 'data/icons/save_as.png'
		ToolBoxButton:
			on_release:
			ToolBoxStack:
				IconImage:
					source: 'data/icons/pdf.png'
		ToolBoxButton:
			on_release: app.ShowHelp()
			ToolBoxStack:
				IconImage:
					source: 'data/icons/help.png'										
	GridLayout:
		cols: 1
		size_hint: 0.3, 1
		top: root.top - 62
		padding: 3
		BoxLayout
		ToolBoxButton:
			on_release: app.SwitchToEditor()
			ToolBoxStack:
				IconImage:
					source: 'data/icons/edit.png'	
		ToolBoxButton:
			on_release:
			ToolBoxStack:
				IconImage:
					source: 'data/icons/delete.png'
		ToolBoxButton:
			on_release:
			ToolBoxStack:
				IconImage: 
					source: 'data/icons/search.png'

<OpenFileDialog>:
	GridLayout:
		cols: 1
		size: root.size
        pos: root.pos
		BoxLayout:
			size_hint_y: None
			height: '32dp'
			padding: 3
			
			ToggleList:
				on_release: FileOpenScreenManager.current = 'listview'

			ToggleIcon:
				on_release: FileOpenScreenManager.current = 'folderview'
		ScreenManager:
			size_hint: 1, 1
			id: FileOpenScreenManager
			Screen:
				name: 'listview'
				FileChooserListView:
					id: listview
					filters: ["*.csv"]
					on_selection: selectedfile.text = self.selection and self.selection[0] or ''

			Screen:
				name: 'folderview'
				FileChooserIconView:
					id: folderview
					filters: ["*.csv"]
					on_selection: selectedfile.text = self.selection and self.selection[0] or ''
		GridLayout:
			padding: 10
			size_hint_y: None
			rows: 2
			StackLayout:
				TextInput:
					id: selectedfile
					size_hint: 0.7, None
					height: '32dp'
					text: ''
					width: '60dp'
				Spinner:
					size_hint: 0.3, None
					width: '60dp'
					height: '32dp'
					text: 'CSV (*.csv)'				
			BoxLayout:
				size_hint_y: None
				height: '42dp'
				Button:
					text: 'Open'
					on_release: root.load()
				Button:
					text: 'Cancel'
					on_release: root.cancel()
<SaveFileDialog>:
	GridLayout:
		cols: 1
		size: root.size
        pos: root.pos
		BoxLayout:
			size_hint_y: None
			height: '32dp'
			padding: 3			
			ToggleList:
				on_release: FileSaveScreenManager.current = 'listview'
			ToggleIcon:
				on_release: FileSaveScreenManager.current = 'folderview'
		ScreenManager:
			size_hint: 1, 1
			id: FileSaveScreenManager
			Screen:
				name: 'listview'
				FileChooserListView:
					id: listview
					on_selection: selectedfile.text = self.selection and self.selection[0] or ''
			Screen:
				name: 'folderview'
				FileChooserIconView:
					id: folderview
					on_selection: selectedfile.text = self.selection and self.selection[0] or ''
		GridLayout:
			padding: 10
			size_hint_y: None
			rows: 2
			StackLayout:
				TextInput:
					id: selectedfile
					size_hint: 1, None
					height: '32dp'
					text: ''
					width: '60dp'			
			BoxLayout:
				size_hint_y: None
				height: '42dp'
				Button:
					text: 'Save'
					on_release: root.save()
				Button:
					text: 'Cancel'
					on_release: root.cancel()