#:kivy 1.8.0
#:import get_color_from_hex kivy.utils.get_color_from_hex

<ToolBoxButton@ToggleButton>:
    background_normal: 'data/images/bg01.png'
	size_hint: (None, None)
	height: '48dp'
	width: '48dp'

<OpenSaveButton@ActionButton>:
    background_normal: 'data/images/bg01.png'
	size_hint: (None, None)
	height: '48dp'
	width: '48dp'

<ToolBoxStack@StackLayout>:
	pos: self.parent.pos
    size: self.parent.size
    padding: 8
    spacing: 0

<ToggleList@ToggleButton>:
	text: 'List View'
	state: 'down'
	group: 'filechooser'

<ToggleIcon@ToggleButton>:
	text: 'Folder View'
	group: 'filechooser'

<IconImage@Image>:
	size_hint: None, 1
	width: 30		

<StudNameButton@Button>:
	size_hint: None, None
	text_size: len(self.text)*10, None
	halign: 'center'
	height: 40
	width: self.text_size[0]+10

<GradingLine@BoxLayout>:
	size_hint: None, None
	height: 3

<ReportCardForm>:
	canvas.before:	
        Color:
            rgba: get_color_from_hex('#24252A')
        Rectangle:
            size: self.size
            source: 'data/images/bg03.jpg'
            pos: self.pos
	FloatLayout:
		size: root.width, root.height
		canvas.before:
	        Color:
	            rgba: 0.128, 0.128, 0.128, 0
	        Rectangle:
	            size: self.size
	            pos: self.pos 
	    ScreenManager:
	    	id: MainScreenManager
	    	Screen:
	    		name: 'dashboard'    		
				Label:					
					size_hint: None, 1
					text: ('[font=data/fonts/OpenSans-Light.ttf][size=40]Welcome to HSRCS[/size]\n[size=16]High School Report Card System\nfor Sta. Barbara National Comprehensive High School\n[size=12]Â© 2014 Mark Joseph J. Solidarios[/size]\n\n\nThis program comes with ABSOLUTELY NO WARRANTY:\n[size=12]for comments or suggestions, email: markjoseph.solidarios@outlook.com[/size] [/size][/font]')
					pos_hint: {'x':.45, 'y':0.09}
					markup:  True
	    	Screen:	
	    		name: 'help'
	    		BoxLayout:
	    			padding: [70,0,70,0]
	    			size_hint: 1, None
	    			top: root.top - 62
					Button:
						size_hint: 1, None
						text: 'sffsd'
					Button:
						size_hint: 1, None
						text: 'sffsd'
					Button:
						size_hint: 1, None
						text: 'sffsd'
	    	Screen:	
	    		name: 'studlist'
	    		BoxLayout:
	    			padding: [70,0,70,0]
	    			height: 30
	    			top: root.top - 62
	    			
	    			size_hint: 1, None
	    			ToggleButton:
	    				text: 'Sort A-Z'			
	    			ToggleButton:
	    				text: 'Sort Z-A'
    			StackLayout:    				
    				size_hint: 1, 1
    				padding: [70,0,70,0]
    				pos_hint: {'center_x': .5, 'center_y': 0.3}
    				spacing: 10
    				StudNameButton:
    					on_release: app.SwitchToEditor()
    					text: 'Juan De La Cruz'
    				StudNameButton:
    					text: 'Juan De Lsdafasdfa Cruz'
    				StudNameButton:
    					text: 'Juan Defasdf La Cruz' 
    				StudNameButton:
    					text: 'Juan dsfasdfasdfadsfDe La Cruz' 
    				StudNameButton:
    					text: 'Juan asdfsdDe La Cruz'  
    				StudNameButton:
    					text: 'Juanadsfasdf De La Cruz'  
    				StudNameButton:
    					text: 'Juan fdDe La Cruz' 
	    	Screen:	
	    		name: 'editor'
	    		TabbedPanel:
	    			tab_width: 150	    			
    				padding: [70,0,70,0]
	    			size_hint: 1, None
	    			do_default_tab: False
	    			height: self.parent.height - 100
	    			pos_hint: {'center_x': .5, 'center_y': .47}
	    			TabbedPanelItem:
	    				text: 'Basic Details'  								    								    						    				    				
	    				StudBasicDetails:
	    			TabbedPanelItem:
	    				text: 'Grading Report'
	    				GradingReportScreen:  								    								    					
	    			TabbedPanelItem:
	    				text: 'Student Rating'			    								    							    								    					    					    					    					    											    						    					    						    						    						    						
		  																	
	StackLayout:
		width: root.width
		height: 50
		top: root.top
		spacing: 10
		canvas.before:
	        Color:
	            rgba: 0, 0, 0, 1
	        Rectangle:
	            size: self.size
	            pos: self.pos 
	    Image:  
			source: 'data/icons/logo.png'
			size_hint: None, 1
			width: 80
		Label:
			id: WidgetTitle
			size_hint: None, None
			width: root.width - 160
			text: '[font=data/fonts/OpenSans-Light.ttf]Dashboard[/font]'
			font_size: '24sp'
			height: 50
			markup:  True
	GridLayout:
		cols: 1
		size_hint: 0.3, 1
		top: root.top - 62
		right: root.right + 49
		spacing: 3								
		ToolBoxButton:
			group: 'menubtn'
			state: 'down'
			on_press: app.SwitchToDash()
			ToolBoxStack:
				IconImage: 
					source: 'data/icons/home.png'						
		OpenSaveButton:
			on_press: app.ShowOpenFileDialog()
			ToolBoxStack:
				IconImage: 
					source: 'data/icons/folder.png'
		OpenSaveButton:
			on_release: app.UpdateRecord()
			ToolBoxStack:
				IconImage:
					source: 'data/icons/save.png'												
		OpenSaveButton:
			on_release: app.ShowSaveFileDialog()
			ToolBoxStack:
				IconImage:
					source: 'data/icons/save_as.png'
		ToolBoxButton:
			on_release:
			ToolBoxStack:
				IconImage:
					source: 'data/icons/pdf.png'
		ToolBoxButton:
			group: 'menubtn'
			on_release: app.ShowHelp()
			ToolBoxStack:
				IconImage:
					source: 'data/icons/help.png'										
	GridLayout:
		cols: 1
		size_hint: 0.3, 1
		top: root.top - 62
		padding: 3
		spacing: 3
		BoxLayout
		ToolBoxButton:
			group: 'menubtn'
			on_release: app.SwitchToStudList()
			ToolBoxStack:
				IconImage:
					source: 'data/icons/edit.png'
		ToolBoxButton:
			group: 'menubtn'
			on_release:
			ToolBoxStack:
				IconImage: 
					source: 'data/icons/search.png'

<OpenFileDialog>:
	GridLayout:
		cols: 1
		size: root.size
        pos: root.pos
		BoxLayout:
			size_hint_y: None
			height: '32dp'
			padding: 3
			
			ToggleList:
				on_release: FileOpenScreenManager.current = 'listview'

			ToggleIcon:
				on_release: FileOpenScreenManager.current = 'folderview'
		ScreenManager:
			size_hint: 1, 1
			id: FileOpenScreenManager
			Screen:
				name: 'listview'
				FileChooserListView:
					id: listview
					filters: ["*.csv"]
					on_selection: selectedfile.text = self.selection and self.selection[0] or ''

			Screen:
				name: 'folderview'
				FileChooserIconView:
					id: folderview
					filters: ["*.csv"]
					on_selection: selectedfile.text = self.selection and self.selection[0] or ''
		GridLayout:
			padding: 10
			size_hint_y: None
			rows: 2
			StackLayout:
				TextInput:
					id: selectedfile
					size_hint: 0.7, None
					height: '32dp'
					text: ''
					width: '60dp'
				Spinner:
					size_hint: 0.3, None
					width: '60dp'
					height: '32dp'
					text: 'CSV (*.csv)'				
			BoxLayout:
				size_hint_y: None
				height: '42dp'
				Button:
					text: 'Open'
					on_release: root.load()
				Button:
					text: 'Cancel'
					on_release: root.cancel()
<SaveFileDialog>:
	GridLayout:
		cols: 1
		size: root.size
        pos: root.pos
		BoxLayout:
			size_hint_y: None
			height: '32dp'
			padding: 3			
			ToggleList:
				on_release: FileSaveScreenManager.current = 'listview'
			ToggleIcon:
				on_release: FileSaveScreenManager.current = 'folderview'
		ScreenManager:
			size_hint: 1, 1
			id: FileSaveScreenManager
			Screen:
				name: 'listview'
				FileChooserListView:
					id: listview
					on_selection: selectedfile.text = self.selection and self.selection[0] or ''
			Screen:
				name: 'folderview'
				FileChooserIconView:
					id: folderview
					on_selection: selectedfile.text = self.selection and self.selection[0] or ''
		GridLayout:
			padding: 10
			size_hint_y: None
			rows: 2
			StackLayout:
				TextInput:
					id: selectedfile
					size_hint: 1, None
					height: '32dp'
					text: ''
					width: '60dp'			
			BoxLayout:
				size_hint_y: None
				height: '42dp'
				Button:
					text: 'Save'
					on_release: root.save()
				Button:
					text: 'Cancel'
					on_release: root.cancel()

<GradingReportScreen>:
	GridLayout:
		size: root.size
        pos: root.pos
		cols: 1
		padding: 10
		BoxLayout:
			size_hint_y: None
			height: '24dp'
			ToggleButton:
				background_normal: 'data/images/bg01.png'
				text: 'First Grading'
				on_release: GradingPeriodScreenManager.current = '1stgrading'
				group: 'grading'
				state: 'down'
			ToggleButton:
				background_normal: 'data/images/bg01.png'
				text: 'Second Grading'
				on_release: GradingPeriodScreenManager.current = '2ndgrading'
				group: 'grading'
			ToggleButton:
				background_normal: 'data/images/bg01.png'
				text: 'Third Grading'
				on_release: GradingPeriodScreenManager.current = '3rdgrading'
				group: 'grading'
			ToggleButton:
				background_normal: 'data/images/bg01.png'
				text: 'Fourth Grading'
				on_release: GradingPeriodScreenManager.current = '4thgrading'
				group: 'grading'	    							    							    					
		ScreenManager:
			id: GradingPeriodScreenManager
			Screen:
				name: '1stgrading'
				FirstGradingWidget:
																																														
			Screen:
				name: '2ndgrading'
				SecondGradingWidget:
			Screen:
				name: '3rdgrading'
				Label:
					text: '3'
			Screen:
				name: '4thgrading'
				Label:
					text: '4'	

<StudBasicDetails>:
	GridLayout:
		size: root.size
        pos: root.pos	
		cols: 1
		spacing: 10
		padding: 10		    			
		GridLayout:
			cols: 2
			size_hint: 1, None
			spacing: 10
			height: '32dp'
			Label:
				text: 'School Name'
				size_hint: None, 1
				width: 120				    				
			TextInput:
				text: 'Sta. Barabara National Comprehensive High School'
		GridLayout:
			cols: 2
			size_hint: 1, None
			height: '32dp'
			spacing: 0
			Label:
				text: 'Student LRN'
				size_hint: None, 1
				width: 130
			TextInput:
				text: '0'
		BoxLayout:
			size_hint: 1, None
			height: '32dp'
			BoxLayout:
				size_hint: 1, None
				height: '32dp'
				spacing: 10
    			Label:
    				text: 'Student Name'
    				size_hint: None, 1
    				width: 120
    			TextInput:
    				multiline: False
    				size_hint: 1, None
    				height: '32dp'
    				text: 'Juan De la Cruz'
			BoxLayout:
				size_hint: None, None
				height: '32dp'
    			Label:
    				text: 'Age'
    				size_hint: 0.5, 1
    			TextInput:
    				text: '0'

		BoxLayout:
			size_hint: 1, None
			height: '32dp'
			spacing: 10
			Label:
				text: 'Gender'
				size_hint: None, 1
				width: 120			    					
			Spinner:
				size_hint: 0.4, 1
				text: '...'
				values: '...','Male', 'Female'
			Label:
				size_hint: None, 1
				text: 'Year and Section'
				size_hint: None, 1
				width: 120
			TextInput:
				text: '...'
		BoxLayout:
			size_hint: 1, None
			height: '32dp'
			Label:
				size_hint_x: None
				width: 130	
				text: 'Curriculum'
			TextInput:
				text: 'K-12 Strengthened Technical Vocational Education Program-CBC'
		BoxLayout:
			size_hint: 1, None
			height: '32dp'
			Label:
				size_hint_x: None
				width: 130	
				text: 'Adviser'
			TextInput:
				text: ''
		BoxLayout:
			size_hint: 1, None
			height: '32dp'
			Label:
				size_hint_x: None
				width: 130
				text: 'Principal'
			TextInput:
				text: ''			 

<FirstGradingWidget>:
	StackLayout:
		top: self.parent.top
		padding: [0,20,0,0]
		spacing: 10
		BoxLayout:
			size_hint: 1, None
			height: '32dp'
			Label:
				size_hint: None, None
				height: '32dp'						
				text: 'Filipino'
				width: 150
			TextInput:
				size_hint: None, None
				height: '32dp'
				text: '90'
				width: '32dp'
			Label:
				size_hint: None, None
				height: '32dp'						
				text: 'English'
				width: 120
			TextInput:
				size_hint: None, None
				height: '32dp'
				text: '90'
				width: '32dp'
			Label:
				size_hint: None, None
				height: '32dp'						
				text: 'Mathematics'
				width: 120
			TextInput:
				size_hint: None, None
				height: '32dp'
				text: '90'
				width: '32dp'
			Label:
				size_hint: None, None
				height: '32dp'						
				text: 'Science'
				width: 120
			TextInput:
				size_hint: None, None
				height: '32dp'
				text: '90'
				width: '32dp'
		GradingLine:
			canvas:
				Color:
					rgba: get_color_from_hex('#5F5F5F')
				Rectangle:
					rgba: 
					pos: 0,self.center_y
					size: root.width, 1			
		BoxLayout:
			size_hint: 1, None
			height: '32dp'					
			Label:
				size_hint: None, None
				height: '32dp'						
				text: 'Araling Panlipunan'
				width: 150
			TextInput:
				size_hint: None, None
				height: '32dp'
				text: '90'
				width: '32dp'	
			Label:
				size_hint: None, None
				height: '32dp'						
				text: 'Technical Vocational Education'
				width: 273
			TextInput:
				size_hint: None, None
				height: '32dp'
				text: '90'
				width: '32dp'
		GradingLine:
			canvas:
				Color:
					rgba: get_color_from_hex('#5F5F5F')
				Rectangle:
					rgba: 
					pos: 0,self.center_y
					size: root.width, 1								
		BoxLayout:
			size_hint: 1, None
			height: '32dp'
			Label:
				size_hint: None, None
				height: '32dp'						
				text: 'Music'
				width: 150
			TextInput:
				size_hint: None, None
				height: '32dp'
				text: '90'
				width: '32dp'
			Label:
				size_hint: None, None
				height: '32dp'						
				text: 'Arts'
				width: 120
			TextInput:
				size_hint: None, None
				height: '32dp'
				text: '90'
				width: '32dp'
			Label:
				size_hint: None, None
				height: '32dp'						
				text: 'Physical Education'
				width: 270
			TextInput:
				size_hint: None, None
				height: '32dp'
				text: '90'
				width: '32dp'
		GradingLine:
			canvas:
				Color:
					rgba: get_color_from_hex('#5F5F5F')
				Rectangle:
					rgba: 
					pos: 0,self.center_y
					size: root.width, 1							
		BoxLayout:
			size_hint: 1, None
			height: '32dp'
			Label:
				size_hint: None, None
				height: '32dp'						
				text: 'Edukasyon sa Pagpapakatao'
				width: 303
			TextInput:
				size_hint: None, None
				height: '32dp'
				text: '90'
				width: '32dp'
			Label:
				size_hint: None, None
				height: '32dp'						
				text: 'Internet & Computer Fundamentals'
				width: 270
			TextInput:
				size_hint: None, None
				height: '32dp'
				text: '90'
				width: '32dp'
		GradingLine:
			canvas:
				Color:
					rgba: get_color_from_hex('#5F5F5F')
				Rectangle:
					rgba: 
					pos: 0,self.center_y
					size: root.width, 1						
		BoxLayout:
			size_hint: 1, None
			height: '32dp'				
			Label:
				size_hint: None, None
				height: '32dp'						
				text: 'Technical Drawing'
				width: 150
			TextInput:
				size_hint: None, None
				height: '32dp'
				text: '90'
				width: '32dp'
<SecondGradingWidget>:
	StackLayout:
		top: self.parent.top
		padding: [0,20,0,0]
		spacing: 10
		BoxLayout:
			size_hint: 1, None
			height: '32dp'
			Label:
				size_hint: None, None
				height: '32dp'						
				text: 'Filipino'
				width: 150
			TextInput:
				size_hint: None, None
				height: '32dp'
				text: '90'
				width: '32dp'
			Label:
				size_hint: None, None
				height: '32dp'						
				text: 'English'
				width: 120
			TextInput:
				size_hint: None, None
				height: '32dp'
				text: '90'
				width: '32dp'
			Label:
				size_hint: None, None
				height: '32dp'						
				text: 'Mathematics'
				width: 120
			TextInput:
				size_hint: None, None
				height: '32dp'
				text: '90'
				width: '32dp'
			Label:
				size_hint: None, None
				height: '32dp'						
				text: 'Science'
				width: 120
			TextInput:
				size_hint: None, None
				height: '32dp'
				text: '90'
				width: '32dp'
		GradingLine:
			canvas:
				Color:
					rgba: get_color_from_hex('#5F5F5F')
				Rectangle:
					rgba: 
					pos: 0,self.center_y
					size: root.width, 1			
		BoxLayout:
			size_hint: 1, None
			height: '32dp'					
			Label:
				size_hint: None, None
				height: '32dp'						
				text: 'Araling Panlipunan'
				width: 150
			TextInput:
				size_hint: None, None
				height: '32dp'
				text: '90'
				width: '32dp'	
			Label:
				size_hint: None, None
				height: '32dp'						
				text: 'Technical Vocational Education'
				width: 273
			TextInput:
				size_hint: None, None
				height: '32dp'
				text: '90'
				width: '32dp'
		GradingLine:
			canvas:
				Color:
					rgba: get_color_from_hex('#5F5F5F')
				Rectangle:
					rgba: 
					pos: 0,self.center_y
					size: root.width, 1								
		BoxLayout:
			size_hint: 1, None
			height: '32dp'
			Label:
				size_hint: None, None
				height: '32dp'						
				text: 'Music'
				width: 150
			TextInput:
				size_hint: None, None
				height: '32dp'
				text: '90'
				width: '32dp'
			Label:
				size_hint: None, None
				height: '32dp'						
				text: 'Arts'
				width: 120
			TextInput:
				size_hint: None, None
				height: '32dp'
				text: '90'
				width: '32dp'
			Label:
				size_hint: None, None
				height: '32dp'						
				text: 'Physical Education'
				width: 270
			TextInput:
				size_hint: None, None
				height: '32dp'
				text: '90'
				width: '32dp'
		GradingLine:
			canvas:
				Color:
					rgba: get_color_from_hex('#5F5F5F')
				Rectangle:
					rgba: 
					pos: 0,self.center_y
					size: root.width, 1							
		BoxLayout:
			size_hint: 1, None
			height: '32dp'
			Label:
				size_hint: None, None
				height: '32dp'						
				text: 'Edukasyon sa Pagpapakatao'
				width: 303
			TextInput:
				size_hint: None, None
				height: '32dp'
				text: '90'
				width: '32dp'
			Label:
				size_hint: None, None
				height: '32dp'						
				text: 'Internet & Computer Fundamentals'
				width: 270
			TextInput:
				size_hint: None, None
				height: '32dp'
				text: '90'
				width: '32dp'
		GradingLine:
			canvas:
				Color:
					rgba: get_color_from_hex('#5F5F5F')
				Rectangle:
					rgba: 
					pos: 0,self.center_y
					size: root.width, 1						
		BoxLayout:
			size_hint: 1, None
			height: '32dp'				
			Label:
				size_hint: None, None
				height: '32dp'						
				text: 'Technical Drawing'
				width: 150
			TextInput:
				size_hint: None, None
				height: '32dp'
				text: '90'
				width: '32dp'				