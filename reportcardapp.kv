#:kivy 1.8.0
<ReportCardForm>:
	canvas.before:
        Color:
            rgba: 0.05, 0.05, 0.05, 1
        Rectangle:
            size: self.size
            pos: self.pos
	FloatLayout:
		size: root.width, root.height
		canvas.before:
	        Color:
	            rgba: 0.128, 0.128, 0.128, 0
	        Rectangle:
	            size: self.size
	            pos: self.pos 
	    ScreenManager:
	    	id: MainScreenManager
	    	Screen:
	    		name: 'dashboard'    		
				Label:					
					size_hint: None, 1
					text: ('[font=data/fonts/OpenSans-Light.ttf][size=40]Welcome to HSRCS[/size]\n[size=16]High School Report Card System\nfor Sta. Barbara National Comprehensive High School\n[size=12]Â© 2014 Mark Joseph J. Solidarios[/size]\n\n\nThis program comes with ABSOLUTELY NO WARRANTY;\n[size=12]for comments or suggestions, email: markjoseph.solidarios@outlook.com[/size] [/size][/font]')
					pos_hint: {'x':.45, 'y':0.09}
					markup:  True
	    	Screen:	
	    		name: 'help'
				Label:					
					size_hint: None, 1
					text: ('[font=data/fonts/OpenSans-Light.ttf][size=40]Welcome to HSRCS[/size]\n[size=16]High School Report Card System\nfor Sta. Barbara National Comprehensive High School\n[size=12]2014 Mark Joseph J. Solidarios[/size]\n\n\nCreated using Python and Kivy[/size][/font]')
					pos_hint: {'x':.45, 'y':0.09}
					markup:  True
				Button:
					size_hint: 1, None
					text: 'sffsd'
	    	Screen:	
	    		name: 'studentlist'
				Label:					
					size_hint: None, 1
					text: ('[font=data/fonts/OpenSans-Light.ttf][size=40]Welcome to HSRCS[/size]\n[size=16]High School Report Card System\nfor Sta. Barbara National Comprehensive High School\n[size=12]2014 Mark Joseph J. Solidarios[/size]\n\n\nCreated using Python and Kivy[/size][/font]')
					pos_hint: {'x':.45, 'y':0.09}
					markup:  True
				Button:
					size_hint: 1, None
					text: 'sffsd'			  																	
	StackLayout:
		width: root.width
		height: 50
		top: root.top
		spacing: 10
		canvas.before:
	        Color:
	            rgba: 0, 0, 0, 1
	        Rectangle:
	            size: self.size
	            pos: self.pos 
	    Image:	    	
	    	source: 'data/icons/logo.png'
	    	size_hint: None, 1
	    	width: 80
		Label:
			id: WidgetTitle
			size_hint: None, None
			width: root.width - 160
			text: '[font=data/fonts/OpenSans-Light.ttf]Dashboard[/font]'
			font_size: '24sp'
			height: 50
			markup:  True
	GridLayout:
		cols: 1
		size_hint: 0.3, 1
		top: root.top - 62
		right: root.right + 50							
		Button:
			size_hint: (None, None)
			height: '48dp'
			width: '48dp'
			on_release: app.ShowHelp()
			StackLayout:
				pos: self.parent.pos
	            size: self.parent.size
	            padding: 8
	            spacing: 0
				Image: 
					source: 'data/icons/help.png'
					size_hint: None, 1
					width: 30
		Button:
			size_hint: (None, None)
			height: '48dp'
			width: '48dp'
			StackLayout:
				pos: self.parent.pos
	            size: self.parent.size
	            padding: 8
	            spacing: 0
				Image: 
					source: 'data/icons/add_list.png'
					size_hint: None, 1
					width: 30	
	GridLayout:
		cols: 1
		size_hint: 0.3, 1
		top: root.top - 62
		BoxLayout
		Button:
			size_hint: (None, None)
			height: '48dp'
			width: '48dp'
			on_press: app.DashButton()
			StackLayout:
				pos: self.parent.pos
	            size: self.parent.size
	            padding: 8
	            spacing: 0
				Image: 
					source: 'data/icons/home.png'
					size_hint: None, 1
					width: 30				
		Button:
			size_hint: (None, None)
			height: '48dp'
			width: '48dp'
			on_press: app.ShowOpenFileDialog()
			StackLayout:
				pos: self.parent.pos
	            size: self.parent.size
	            padding: 10
	            spacing: 0
				Image: 
					source: 'data/icons/folder.png'
					size_hint: None, 1
					width: 30								
		Button:
			size_hint: (None, None)
			height: '48dp'
			width: '48dp'
			on_release: app.ShowSaveFileDialog()
			StackLayout:
				pos: self.parent.pos
	            size: self.parent.size
	            padding: 8
	            spacing: 0
				Image: 
					source: 'data/icons/save.png'
					size_hint: None, 1
					width: 30	
		Button:
			size_hint: (None, None)
			height: '48dp'
			width: '48dp'
			StackLayout:
				pos: self.parent.pos
	            size: self.parent.size
	            padding: 8
	            spacing: 0
				Image: 
					source: 'data/icons/print.png'
					size_hint: None, 1
					width: 30
		Button:
			size_hint: (None, None)
			height: '48dp'
			width: '48dp'
			StackLayout:
				pos: self.parent.pos
	            size: self.parent.size
	            padding: 8
	            spacing: 0
				Image: 
					source: 'data/icons/delete.png'
					size_hint: None, 1
					width: 30
		Button:
			size_hint: (None, None)
			height: '48dp'
			width: '48dp'
			StackLayout:
				pos: self.parent.pos
	            size: self.parent.size
	            padding: 8
	            spacing: 0
				Image: 
					source: 'data/icons/search.png'
					size_hint: None, 1
					width: 30	
<OpenFileDialog>:
	GridLayout:
		cols: 1
		size: root.size
        pos: root.pos
		BoxLayout:
			size_hint_y: None
			height: '32dp'
			padding: 3
			
			ToggleButton:
				text: 'List View'
				state: 'down'
				group: 'filechooser'
				on_release: FileOpenScreenManager.current = 'listview'

			ToggleButton:
				text: 'Folder View'
				group: 'filechooser'
				on_release: FileOpenScreenManager.current = 'folderview'
		ScreenManager:
			size_hint: 1, 1
			id: FileOpenScreenManager
			Screen:
				name: 'listview'
				FileChooserListView:
					id: listview
					filers: ['*.csv','*.png']
					on_selection: selectedfile.text = self.selection and self.selection[0] or ''

			Screen:
				name: 'folderview'
				FileChooserIconView:
					id: folderview
					on_selection: selectedfile.text = self.selection and self.selection[0] or ''
		GridLayout:
			padding: 10
			size_hint_y: None
			rows: 2
			StackLayout:
				TextInput:
					id: selectedfile
					size_hint: 0.7, None
					height: '32dp'
					text: ''
					width: '60dp'
				Spinner:
					size_hint: 0.3, None
					width: '60dp'
					height: '32dp'
					text: 'CSV (*.csv)'
					values: ('CSV (*.csv)','All Files (*.*)')				
			BoxLayout:
				size_hint_y: None
				height: '42dp'
				Button:
					text: 'Open'
					on_release: root.load()
				Button:
					text: 'Cancel'
					on_release: root.cancel()
<SaveFileDialog>:
	GridLayout:
		cols: 1
		size: root.size
        pos: root.pos
		BoxLayout:
			size_hint_y: None
			height: '32dp'
			padding: 3
			
			ToggleButton:
				text: 'List View'
				state: 'down'
				group: 'filechooser'
				on_release: FileSaveScreenManager.current = 'listview'

			ToggleButton:
				text: 'Folder View'
				group: 'filechooser'
				on_release: FileSaveScreenManager.current = 'folderview'
		ScreenManager:
			size_hint: 1, 1
			id: FileSaveScreenManager
			Screen:
				name: 'listview'
				FileChooserListView:
					id: listview
					on_selection: selectedfile.text = self.selection and self.selection[0] or ''
			Screen:
				name: 'folderview'
				FileChooserIconView:
					id: folderview
					on_selection: selectedfile.text = self.selection and self.selection[0] or ''
		GridLayout:
			padding: 10
			size_hint_y: None
			rows: 2
			StackLayout:
				TextInput:
					id: selectedfile
					size_hint: 1, None
					height: '32dp'
					text: ''
					width: '60dp'			
			BoxLayout:
				size_hint_y: None
				height: '42dp'
				Button:
					text: 'Save'
					on_release: root.save()
				Button:
					text: 'Cancel'
					on_release: root.cancel()